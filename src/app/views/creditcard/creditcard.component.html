
<div class="container mt-4">
  <h2 class="text-center">Make Payment</h2>
  <div class="row">
    <div class="col-lg-3"></div>
    <div class="col-lg-6">
      <form novalidate [formGroup]="creditCardForm">
        <div class="form-group">
          <label for="creditcardnumber">Credit Card</label>
          <input type='text' id="creditcardnumber"
          formControlName="creditCardNumber" class="form-control"
          [class]="{'is-invalid': (creditCardForm.get('creditCardNumber').touched &&
          !creditCardForm.get('creditCardNumber').dirty) ||
          (creditCardForm.get('creditCardNumber').invalid && creditCardForm.get('creditCardNumber').dirty),
          'is-valid': creditCardForm.get('creditCardNumber').valid
          }">
          <small *ngIf="creditCardForm.get('creditCardNumber').touched &&
          !creditCardForm.get('creditCardNumber').dirty" class="invalid-feedback">
            Credit card number is required
          </small>
          <small
          *ngIf="creditCardForm.get('creditCardNumber').dirty && creditCardForm.get('creditCardNumber').invalid"
          class="invalid-feedback">
            Invalid credit card number it should be 16 credit card number
          </small>
        </div>

        <div class="form-group mt-2">
          <label for="cardHolder">Card Holder</label>
          <input type="text" id="cardHolder" class="form-control"
          formControlName="cardHolder"
          [class]="{
            'is-invalid': creditCardForm.get('cardHolder').touched  && !creditCardForm.get('cardHolder').dirty ||
            (creditCardForm.get('cardHolder').touched && creditCardForm.get('cardHolder').dirty)  && creditCardForm.get('cardHolder').invalid,
            'is-valid': creditCardForm.get('cardHolder').valid
          }">
          <small
            *ngIf="creditCardForm.get('cardHolder').touched && !creditCardForm.get('cardHolder').dirty"
            class="invalid-feedback">
            Card holder name is required
          </small>
          <small
            *ngIf="(creditCardForm.get('cardHolder').touched && creditCardForm.get('cardHolder').dirty)  && creditCardForm.get('cardHolder').invalid"
            class="invalid-feedback">
            Invalid card holder name
          </small>
        </div>

        <div class="form-group mt-2">
          <label for="expirationDate">Expiration Date</label>
          <input type="month" id="expirationDate"
          class="form-control"
          formControlName="expirationDate"
          [class]="{'is-invalid': creditCardForm.get('expirationDate').touched && !creditCardForm.get('expirationDate').dirty}">
          <small
            *ngIf="creditCardForm.get('expirationDate').touched && creditCardForm.get('expirationDate').invalid"
            class="invalid-feedback">
            Expiration date is required and must not be today's date
          </small>
          <small class="text-danger" *ngIf="errorDate"> {{ errorDate }} </small>
        </div>

        <div class="form-group mt-2">
          <label for="securityCode">Security Code</label>
          <input type="text" maxlength="3" minlength="3" id="securityCode"
          [class]="{'is-invalid': creditCardForm.get('securityCode').dirty && creditCardForm.get('securityCode').invalid}"
           class="form-control" formControlName="securityCode">
          <small
            *ngIf="creditCardForm.get('securityCode').invalid"
            class="invalid-feedback">
            Invalid security code it must be 3 digit e.g (123, 456)
          </small>
        </div>

        <div class="form-group mt-2">
          <label for="amount">Amount</label>
          <input type="text" id="amount"
          class="form-control" formControlName="amount"
          min="1"
          [class]="{
            'is-invalid': creditCardForm.get('amount').touched  && !creditCardForm.get('amount').dirty ||
            creditCardForm.get('amount').touched && creditCardForm.get('amount').invalid
          }">
          <small
          *ngIf="creditCardForm.get('amount').touched && !creditCardForm.get('amount').dirty" class="invalid-feedback">
            Amount is required
          </small>
          <small *ngIf="creditCardForm.get('amount').touched && creditCardForm.get('amount').invalid" class="invalid-feedback">
            Amount is invalid it should be more than 0
          </small>
        </div>

        <div class="text-center mt-1">
          <input type="button" class="btn btn-primary" [disabled]="creditCardForm.invalid" (click)="submit()" value="Submit">
        </div>
      </form>
    </div>
    <div class="col-lg-3"></div>
  </div>
</div>
